<!DOCTYPE html>
<html lang="en">
<head>
<title>飞飞鱼要天天开心喔!!!</title>
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, user-scalable=no, minimum-scale=1.0, maximum-scale=1.0">

<style>
body {
	font-family: Monospace;
	background-color: #f0f0f0;
	margin: 0px;
	overflow: hidden;
}
</style>
<style>
	/* 用于居中显示文字的简单CSS样式 */
	.center-text {
		text-align: center;
		font-size: 40px;
		color: #FFD700; /* 可以自定义颜色 */
	}
</style>
<style>
	.play-button {
		display: block;
		width: 100px;
		height: 100px;
		line-height: 100px;
		text-align: center;
		border-radius: 50%;
		background-color: #c2d0de;
		cursor: pointer;
	}
</style>

<style>
	.inline-elements {
		display: flex;
		align-items: center; /* 可选：使内容垂直居中 */
		gap: 100px; /* 可选：设置元素之间的间距 */
	}
</style>

</head>

<body>

<div class="inline-elements">

</div>
  <script>
	
  </script>
<div class="center-text" >飞飞鱼天天开心喔!!!<svg id="playButton" t="1719222600176" class="icon" viewBox="0 0 1024 1024" version="1.1" xmlns="http://www.w3.org/2000/svg" p-id="1564" width="100" height="100"><path d="M945.230769 433.230769h78.769231v78.769231h-78.769231zM866.461538 512h78.769231v78.769231h-78.769231zM787.692308 590.769231h78.76923v78.769231h-78.76923zM708.923077 669.538462h78.769231v78.76923h-78.769231zM630.153846 748.307692h78.769231v78.769231h-78.769231zM551.384615 827.076923h78.769231v78.769231h-78.769231zM472.615385 905.846154h78.76923v78.769231h-78.76923zM393.846154 827.076923h78.769231v78.769231h-78.769231zM315.076923 748.307692h78.769231v78.769231h-78.769231zM236.307692 669.538462h78.769231v78.76923h-78.769231zM157.538462 590.769231h78.76923v78.769231H157.538462zM78.769231 512h78.769231v78.769231H78.769231zM0 433.230769h78.769231v78.769231H0zM945.230769 354.461538h78.769231v78.769231h-78.769231zM945.230769 275.692308h78.769231v78.76923h-78.769231zM945.230769 196.923077h78.769231v78.769231h-78.769231z" fill="#1E2028" p-id="1565"></path><path d="M866.461538 433.230769h78.769231v78.769231h-78.769231zM866.461538 354.461538h78.769231v78.769231h-78.769231zM866.461538 275.692308h78.769231v78.76923h-78.769231zM866.461538 196.923077h78.769231v78.769231h-78.769231z" fill="#AF1441" p-id="1566"></path><path d="M866.461538 118.153846h78.769231v78.769231h-78.769231z" fill="#1E2028" p-id="1567"></path><path d="M787.692308 512h78.76923v78.769231h-78.76923z" fill="#AF1441" p-id="1568"></path><path d="M787.692308 433.230769h78.76923v78.769231h-78.76923zM787.692308 354.461538h78.76923v78.769231h-78.76923zM787.692308 275.692308h78.76923v78.76923h-78.76923zM787.692308 196.923077h78.76923v78.769231h-78.76923z" fill="#FF1A51" p-id="1569"></path><path d="M787.692308 118.153846h78.76923v78.769231h-78.76923z" fill="#AF1441" p-id="1570"></path><path d="M787.692308 39.384615h78.76923v78.769231h-78.76923z" fill="#1E2028" p-id="1571"></path><path d="M708.923077 590.769231h78.769231v78.769231h-78.769231z" fill="#AF1441" p-id="1572"></path><path d="M708.923077 512h78.769231v78.769231h-78.769231zM708.923077 433.230769h78.769231v78.769231h-78.769231zM708.923077 354.461538h78.769231v78.769231h-78.769231zM708.923077 275.692308h78.769231v78.76923h-78.769231zM708.923077 196.923077h78.769231v78.769231h-78.769231zM708.923077 118.153846h78.769231v78.769231h-78.769231z" fill="#FF1A51" p-id="1573"></path><path d="M708.923077 39.384615h78.769231v78.769231h-78.769231z" fill="#1E2028" p-id="1574"></path><path d="M630.153846 669.538462h78.769231v78.76923h-78.769231z" fill="#AF1441" p-id="1575"></path><path d="M630.153846 590.769231h78.769231v78.769231h-78.769231zM630.153846 512h78.769231v78.769231h-78.769231zM630.153846 433.230769h78.769231v78.769231h-78.769231zM630.153846 354.461538h78.769231v78.769231h-78.769231zM630.153846 275.692308h78.769231v78.76923h-78.769231zM630.153846 196.923077h78.769231v78.769231h-78.769231zM630.153846 118.153846h78.769231v78.769231h-78.769231z" fill="#FF1A51" p-id="1576"></path><path d="M630.153846 39.384615h78.769231v78.769231h-78.769231z" fill="#1E2028" p-id="1577"></path><path d="M551.384615 748.307692h78.769231v78.769231h-78.769231z" fill="#AF1441" p-id="1578"></path><path d="M551.384615 669.538462h78.769231v78.76923h-78.769231zM551.384615 590.769231h78.769231v78.769231h-78.769231zM551.384615 512h78.769231v78.769231h-78.769231zM551.384615 433.230769h78.769231v78.769231h-78.769231zM551.384615 354.461538h78.769231v78.769231h-78.769231zM551.384615 275.692308h78.769231v78.76923h-78.769231zM551.384615 196.923077h78.769231v78.769231h-78.769231z" fill="#FF1A51" p-id="1579"></path><path d="M551.384615 118.153846h78.769231v78.769231h-78.769231z" fill="#1E2028" p-id="1580"></path><path d="M472.615385 827.076923h78.76923v78.769231h-78.76923z" fill="#F4608A" p-id="1581"></path><path d="M472.615385 748.307692h78.76923v78.769231h-78.76923zM472.615385 669.538462h78.76923v78.76923h-78.76923zM472.615385 590.769231h78.76923v78.769231h-78.76923zM472.615385 512h78.76923v78.769231h-78.76923zM472.615385 433.230769h78.76923v78.769231h-78.76923zM472.615385 354.461538h78.76923v78.769231h-78.76923zM472.615385 275.692308h78.76923v78.76923h-78.76923z" fill="#FF1A51" p-id="1582"></path><path d="M472.615385 196.923077h78.76923v78.769231h-78.76923z" fill="#1E2028" p-id="1583"></path><path d="M393.846154 748.307692h78.769231v78.769231h-78.769231z" fill="#F4608A" p-id="1584"></path><path d="M393.846154 669.538462h78.769231v78.76923h-78.769231zM393.846154 590.769231h78.769231v78.769231h-78.769231zM393.846154 512h78.769231v78.769231h-78.769231zM393.846154 433.230769h78.769231v78.769231h-78.769231zM393.846154 354.461538h78.769231v78.769231h-78.769231zM393.846154 275.692308h78.769231v78.76923h-78.769231zM393.846154 196.923077h78.769231v78.769231h-78.769231z" fill="#FF1A51" p-id="1585"></path><path d="M393.846154 118.153846h78.769231v78.769231h-78.769231z" fill="#1E2028" p-id="1586"></path><path d="M315.076923 669.538462h78.769231v78.76923h-78.769231z" fill="#F4608A" p-id="1587"></path><path d="M315.076923 590.769231h78.769231v78.769231h-78.769231zM315.076923 512h78.769231v78.769231h-78.769231zM315.076923 433.230769h78.769231v78.769231h-78.769231zM315.076923 354.461538h78.769231v78.769231h-78.769231zM315.076923 275.692308h78.769231v78.76923h-78.769231zM315.076923 196.923077h78.769231v78.769231h-78.769231zM315.076923 118.153846h78.769231v78.769231h-78.769231z" fill="#FF1A51" p-id="1588"></path><path d="M315.076923 39.384615h78.769231v78.769231h-78.769231z" fill="#1E2028" p-id="1589"></path><path d="M236.307692 590.769231h78.769231v78.769231h-78.769231z" fill="#F4608A" p-id="1590"></path><path d="M236.307692 512h78.769231v78.769231h-78.769231zM236.307692 433.230769h78.769231v78.769231h-78.769231zM236.307692 354.461538h78.769231v78.769231h-78.769231zM236.307692 275.692308h78.769231v78.76923h-78.769231z" fill="#FF1A51" p-id="1591"></path><path d="M236.307692 196.923077h78.769231v78.769231h-78.769231z" fill="#FFFFFF" p-id="1592"></path><path d="M236.307692 118.153846h78.769231v78.769231h-78.769231z" fill="#FF1A51" p-id="1593"></path><path d="M236.307692 39.384615h78.769231v78.769231h-78.769231z" fill="#1E2028" p-id="1594"></path><path d="M157.538462 512h78.76923v78.769231H157.538462z" fill="#F4608A" p-id="1595"></path><path d="M157.538462 433.230769h78.76923v78.769231H157.538462zM157.538462 354.461538h78.76923v78.769231H157.538462z" fill="#FF1A51" p-id="1596"></path><path d="M157.538462 275.692308h78.76923v78.76923H157.538462zM157.538462 196.923077h78.76923v78.769231H157.538462z" fill="#FFFFFF" p-id="1597"></path><path d="M157.538462 118.153846h78.76923v78.769231H157.538462z" fill="#F4608A" p-id="1598"></path><path d="M157.538462 39.384615h78.76923v78.769231H157.538462z" fill="#1E2028" p-id="1599"></path><path d="M78.769231 433.230769h78.769231v78.769231H78.769231zM78.769231 354.461538h78.769231v78.769231H78.769231zM78.769231 275.692308h78.769231v78.76923H78.769231zM78.769231 196.923077h78.769231v78.769231H78.769231z" fill="#F4608A" p-id="1600"></path><path d="M78.769231 118.153846h78.769231v78.769231H78.769231zM0 354.461538h78.769231v78.769231H0zM0 275.692308h78.769231v78.76923H0zM0 196.923077h78.769231v78.769231H0z" fill="#1E2028" p-id="1601"></path></svg></div>

<script type="text/javascript" src="js/nb.js"></script>

<script type="text/javascript" src="js/Projector.js"></script>
<script type="text/javascript" src="js/CanvasRenderer.js"></script>

<script type="text/javascript" src="js/tween.min.js"></script>
<script type="text/javascript" src="js/Sparks.js"></script>

<!-- load the font file from canvas-text -->

<script type="text/javascript" src="js/helvetiker_regular.typeface.js"></script>
<script type="text/javascript">
	// 获取按钮元素
	var playButton = document.getElementById('playButton');

// 创建音乐播放器
	var audio = new Audio('./你是我的风景.mp3');

// 点击按钮时播放音乐
	playButton.addEventListener('click', function() {
		console.log(1);
  		audio.play();
		console.log(2);
	});


	var container;

	var camera, scene, renderer;

	var group, text, plane;

	var targetRotation = 0;
	var targetRotationOnMouseDown = 0;

	var mouseX = 0;
	var mouseXOnMouseDown = 0;

	var windowHalfX = window.innerWidth / 2;
	var windowHalfY = window.innerHeight / 2;

	var heartShape, particleCloud, sparksEmitter, emitterPos;
	var _rotation = 0;
	var timeOnShapePath = 0;

	init();
	animate();

	function init() {

		container = document.createElement( 'div' );
		document.body.appendChild( container );


		//相机
		camera = new THREE.PerspectiveCamera( 50, window.innerWidth / window.innerHeight, 1, 1000);
		camera.position.set( 0, 150, 800 );

		//场景
		scene = new THREE.Scene();

		group = new THREE.Group();
		scene.add( group );

		// Get text from hash

	//	var string = "LOVE U";
	//	var hash = document.location.hash.substr( 1 );

	//	if ( hash.length !== 0 ) {

	//		string = hash;

	//	}

	//	var text3d = new THREE.TextGeometry( string, {

	//		size: 80,
	//		height: 20,
	//		curveSegments: 2,
	//		font: "helvetiker"

	//	});

	//	text3d.computeBoundingBox();
	//	var centerOffset = -0.5 * ( text3d.boundingBox.max.x - text3d.boundingBox.min.x );

	//	var textMaterial = new THREE.MeshBasicMaterial( { color: Math.random() * 0xffffff, overdraw: 0.5 } );

	//	text = new THREE.Mesh( text3d, textMaterial );

		// Potentially, we can extract the vertices or faces of the text to generate particles too.
		// Geo > Vertices > Position

	//	text.position.x = centerOffset;
	//	text.position.y = 100;
	//	text.position.z = 0;

	//	text.rotation.x = 0;
	//	text.rotation.y = Math.PI * 2;

	//	group.add( text );


		particleCloud = new THREE.Object3D(); // Just a group
		particleCloud.y = 800;
		group.add( particleCloud );

		// Create Particle Systems

		// Heart

		var x = 0, y = 0;

		heartShape = new THREE.Shape();

		heartShape.moveTo( x + 25, y + 25 );
		heartShape.bezierCurveTo( x + 25, y + 25, x + 20, y, x, y );
		heartShape.bezierCurveTo( x - 30, y, x - 30, y + 35,x - 30,y + 35 );
		heartShape.bezierCurveTo( x - 30, y + 55, x - 10, y + 77, x + 25, y + 95 );
		heartShape.bezierCurveTo( x + 60, y + 77, x + 80, y + 55, x + 80, y + 35 );
		heartShape.bezierCurveTo( x + 80, y + 35, x + 80, y, x + 50, y );
		heartShape.bezierCurveTo( x + 35, y, x + 25, y + 25, x + 25, y + 25 );

		var hue = 0;

		var hearts = function ( context ) {

			context.globalAlpha = 0.5;
			var x = 0, y = 0;
			context.scale(0.05, -0.05); // Scale so canvas render can redraw within bounds
			context.beginPath();
			 // From http://blog.burlock.org/html5/130-paths
			context.bezierCurveTo( x + 2.5, y + 2.5, x + 2.0, y, x, y );
			context.bezierCurveTo( x - 3.0, y, x - 3.0, y + 3.5,x - 3.0,y + 3.5 );
			context.bezierCurveTo( x - 3.0, y + 5.5, x - 1.0, y + 7.7, x + 2.5, y + 9.5 );
			context.bezierCurveTo( x + 6.0, y + 7.7, x + 8.0, y + 5.5, x + 8.0, y + 3.5 );
			context.bezierCurveTo( x + 8.0, y + 3.5, x + 8.0, y, x + 5.0, y );
			context.bezierCurveTo( x + 3.5, y, x + 2.5, y + 2.5, x + 2.5, y + 2.5 );
			context.fill();
			context.lineWidth = 0.5; //0.05
			context.stroke();

		}

		var setTargetParticle = function() {

			var material = new THREE.SpriteCanvasMaterial( {
				program: hearts
			} );

			material.color.setHSL(hue, 1, 0.75);
			hue += 0.001;
			if (hue>1) hue-=1;

			particle = new THREE.Sprite( material );

			particle.scale.x = particle.scale.y = Math.random() * 40 + 40;
			particleCloud.add( particle );

			return particle;

		};

		var onParticleCreated = function( p ) {

			p.target.position.copy( p.position );

		};

		var onParticleDead = function( particle ) {

			particle.target.visible = false;
			particleCloud.remove( particle.target );

		};

		sparksEmitter = new SPARKS.Emitter(new SPARKS.SteadyCounter(160));

		emitterpos = new THREE.Vector3();

		sparksEmitter.addInitializer(new SPARKS.Position( new SPARKS.PointZone( emitterpos ) ) );
		sparksEmitter.addInitializer(new SPARKS.Lifetime(0,2));
		sparksEmitter.addInitializer(new SPARKS.Target(null, setTargetParticle));

		sparksEmitter.addInitializer(new SPARKS.Velocity(new SPARKS.PointZone(new THREE.Vector3(0,-50,10))));

		// TOTRY Set velocity to move away from centroid

		sparksEmitter.addAction(new SPARKS.Age());
		//sparksEmitter.addAction(new SPARKS.Accelerate(0.2));
		sparksEmitter.addAction(new SPARKS.Move());
		sparksEmitter.addAction(new SPARKS.RandomDrift(50,50,2000));

		sparksEmitter.addCallback("created", onParticleCreated);
		sparksEmitter.addCallback("dead", onParticleDead);
		sparksEmitter.addCallback("updated", function( particle ) {

			particle.target.position.copy( particle.position );

		});

		sparksEmitter.start();

		// End Particles


		renderer = new THREE.CanvasRenderer();
		renderer.setClearColor( 0xf0f0f0 );
		renderer.setPixelRatio( window.devicePixelRatio );
		renderer.setSize( window.innerWidth, window.innerHeight );
		container.appendChild( renderer.domElement );

		document.addEventListener( 'mousedown', onDocumentMouseDown, false );
		document.addEventListener( 'touchstart', onDocumentTouchStart, false );
		document.addEventListener( 'touchmove', onDocumentTouchMove, false );

		//

		window.addEventListener( 'resize', onWindowResize, false );

	}

	function onWindowResize() {

		windowHalfX = window.innerWidth / 2;
		windowHalfY = window.innerHeight / 2;

		camera.aspect = window.innerWidth / window.innerHeight;
		camera.updateProjectionMatrix();

		renderer.setSize( window.innerWidth, window.innerHeight );

	}

	//

	document.addEventListener( 'mousemove', onDocumentMouseMove, false );

	function onDocumentMouseDown( event ) {

		event.preventDefault();

		mouseXOnMouseDown = event.clientX - windowHalfX;
		targetRotationOnMouseDown = targetRotation;

		if ( sparksEmitter.isRunning() ) {

			sparksEmitter.stop();

		} else {

			sparksEmitter.start();

		}

	}

	function onDocumentMouseMove( event ) {

		mouseX = event.clientX - windowHalfX;

		targetRotation = targetRotationOnMouseDown + ( mouseX - mouseXOnMouseDown ) * 0.02;

	}

	function onDocumentTouchStart( event ) {

		if ( event.touches.length == 1 ) {

			event.preventDefault();

			mouseXOnMouseDown = event.touches[ 0 ].pageX - windowHalfX;
			targetRotationOnMouseDown = targetRotation;

		}

	}

	function onDocumentTouchMove( event ) {

		if ( event.touches.length == 1 ) {

			event.preventDefault();

			mouseX = event.touches[ 0 ].pageX - windowHalfX;
			targetRotation = targetRotationOnMouseDown + ( mouseX - mouseXOnMouseDown ) * 0.05;

		}

	}

	//

	function animate() {//更新场景

		requestAnimationFrame( animate );

		render();

	}

	function render() {

		timeOnShapePath += 0.0337;

		if (timeOnShapePath > 1) timeOnShapePath -= 1;

		// TODO Create a PointOnShape Action/Zone in the particle engine
		var pointOnShape = heartShape.getPointAt( timeOnShapePath );

		emitterpos.x = pointOnShape.x * 5 - 100;
		emitterpos.y = -pointOnShape.y * 5 + 400;

		// Pretty cool effect if you enable this
		// particleCloud.rotation.y += 0.05;

		group.rotation.y += ( targetRotation - group.rotation.y ) * 0.05;
		renderer.render( scene, camera );
	}

</script>

</body>
</html>
